<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.21.2.final using JasperReports Library version 6.21.2-8434a0bd7c3bbc37cbf916f2968d35e4b165821a  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="PerintahDistribusi" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="ea8381b6-3b9b-43b9-98e3-424898443c55">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Pusbekal"/>
	<parameter name="id" class="java.lang.String">
		<defaultValueExpression><![CDATA[11]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[SELECT a.usagerequestid, a.usagerequestnum, a.description, a.requestdate, a.usagedate, a.status, a.financial_year
	, b.linenum, b.usagerequestitemid, b.siteid, coalesce(c.name, 'NA') as satuankerja, b.itemid, coalesce(d.description,'NA') as bekal, coalesce(e.label,d.issueunit) as issueunit, coalesce(b.count,0) as count
FROM pusbekal.tcg_usagerequest a
left join pusbekal.tcg_usagerequestitem b on b.usagerequestid=a.usagerequestid and b.is_deleted=0
left join pusbekal.tcg_site c on c.siteid=b.siteid and c.is_deleted=0
left join pusbekal.tcg_item d on d.itemid=b.itemid and d.is_deleted=0
left join pusbekal.lk_unit e on e.unit=d.issueunit and e.is_deleted=0
where a.status != 'DRAFT' and coalesce(b.count,0)>0
and a.usagerequestid = $P{id}
order by b.linenum]]>
	</queryString>
	<field name="usagerequestid" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="usagerequestid"/>
		<property name="com.jaspersoft.studio.field.label" value="usagerequestid"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tcg_usagerequest"/>
	</field>
	<field name="usagerequestnum" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="usagerequestnum"/>
		<property name="com.jaspersoft.studio.field.label" value="usagerequestnum"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tcg_usagerequest"/>
	</field>
	<field name="description" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="description"/>
		<property name="com.jaspersoft.studio.field.label" value="description"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tcg_usagerequest"/>
	</field>
	<field name="requestdate" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="requestdate"/>
		<property name="com.jaspersoft.studio.field.label" value="requestdate"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tcg_usagerequest"/>
	</field>
	<field name="usagedate" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="usagedate"/>
		<property name="com.jaspersoft.studio.field.label" value="usagedate"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tcg_usagerequest"/>
	</field>
	<field name="status" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="status"/>
		<property name="com.jaspersoft.studio.field.label" value="status"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tcg_usagerequest"/>
	</field>
	<field name="linenum" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="linenum"/>
		<property name="com.jaspersoft.studio.field.label" value="linenum"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tcg_usagerequestitem"/>
	</field>
	<field name="usagerequestitemid" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="usagerequestitemid"/>
		<property name="com.jaspersoft.studio.field.label" value="usagerequestitemid"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tcg_usagerequestitem"/>
	</field>
	<field name="siteid" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="siteid"/>
		<property name="com.jaspersoft.studio.field.label" value="siteid"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tcg_usagerequestitem"/>
	</field>
	<field name="satuankerja" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="satuankerja"/>
		<property name="com.jaspersoft.studio.field.label" value="satuankerja"/>
	</field>
	<field name="itemid" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="itemid"/>
		<property name="com.jaspersoft.studio.field.label" value="itemid"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tcg_usagerequestitem"/>
	</field>
	<field name="bekal" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="bekal"/>
		<property name="com.jaspersoft.studio.field.label" value="bekal"/>
	</field>
	<field name="count" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="count"/>
		<property name="com.jaspersoft.studio.field.label" value="count"/>
	</field>
	<field name="issueunit" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="issueunit"/>
		<property name="com.jaspersoft.studio.field.label" value="issueunit"/>
	</field>
	<group name="usagerequestid">
		<groupExpression><![CDATA[$F{usagerequestid}]]></groupExpression>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="63" splitType="Stretch">
			<textField>
				<reportElement x="180" y="0" width="200" height="30" uuid="7a3f40c7-934b-4ce7-bccd-6acce8f60be3"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA["Perintah Distibusi"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="180" y="30" width="200" height="30" uuid="6a7df92f-76fc-4c20-a3a5-bd2fae5cfe65"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA["No. " + $F{usagerequestnum} + "/" + YEAR($F{requestdate})]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="46" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="20" width="40" height="19" uuid="dcdd0f50-04ef-440f-be02-20486b707a59"/>
				<text><![CDATA[No Urut]]></text>
			</staticText>
			<staticText>
				<reportElement x="50" y="20" width="170" height="19" uuid="7fb5b34c-4d0f-484d-9689-d33bc1f30b27"/>
				<text><![CDATA[Bekal]]></text>
			</staticText>
			<staticText>
				<reportElement x="230" y="21" width="150" height="19" uuid="aa7146c1-e8c4-47f4-a426-141391479155"/>
				<text><![CDATA[Satuan Kerja]]></text>
			</staticText>
			<staticText>
				<reportElement x="390" y="21" width="60" height="18" uuid="193ea2c3-8d01-4e25-8579-bd18406d3435"/>
				<text><![CDATA[Jumlah]]></text>
			</staticText>
			<staticText>
				<reportElement x="460" y="20" width="70" height="19" uuid="02d92fb6-8577-4860-949a-c7c48279d728"/>
				<text><![CDATA[Satuan]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="125" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="40" height="20" uuid="c17c42e0-78e8-4118-a6b9-1027453602dc">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="fff0749f-b613-4a18-a8c6-d817177f63f1"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{linenum}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="50" y="0" width="170" height="20" uuid="565b231f-2c1a-435a-a16c-bc24c3bc400d">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="0d09eba3-7a9e-46f6-84b9-409a25c2dfb2"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{bekal}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="230" y="0" width="150" height="20" uuid="71b289c6-c55d-4957-a7e7-76ac9ed5ce69">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="ee9bdb6a-779c-4888-b138-3826b00ef62c"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{satuankerja}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="390" y="0" width="60" height="20" uuid="f2e2f823-c4e0-4430-b218-d15d5cc5153c">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="60140879-748a-4ee8-9772-9f3ce2d8116b"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{count}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="460" y="0" width="70" height="20" uuid="d0a37eb1-ab24-46d0-a9f9-760cebb84f93">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="1c81810c-a5ca-4bac-b5be-f622ba52eb40"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{issueunit}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
